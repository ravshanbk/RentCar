YUI.add("sm-guide-rawupsell-content",(function(e){SM.currentModule="sm-guide-rawupsell-content";var exports={},t=(SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim);!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=babelHelpers.interopRequireDefault(t("react"));let l={UpsellText:()=>e.default.createElement("div",{className:"sm-text-default"},e.default.createElement("p",null,"SmugMug now supports RAW files! Subscribe to SmugMug Source starting at $3 per month and start uploading your RAW files."))};l.UpsellText.displayName="Guide.RawUpsell.content.UpsellText";var u=l;exports.default=u}(),SM.currentModule=null}),"",{requires:["react","sm"]});
YUI.add("sm-guide-rawupsell",(function(e){SM.currentModule="sm-guide-rawupsell";var exports={},t=(SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim);!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=babelHelpers.interopRequireDefault(t("sm-analytics")),l=babelHelpers.interopRequireDefault(t("sm-dom-core")),a=babelHelpers.interopRequireDefault(t("react")),r=babelHelpers.interopRequireDefault(t("sm-component-button")),o=babelHelpers.interopRequireDefault(t("sm-guide-rawupsell-content"));const u=a.default.createFactory(r.default),{main:n}=SM.env.host,d="https://".concat(n,"/app/source");var i={isComplete:!1,name:"rawupsell",title:"Raw Upsell",description:"Upgrade to premium storage",steps:[{closeCompletesGuide:!0,setupFn:(t,a,r)=>{t.waitForElement('[data-testid="uploader_raw_error"]').then(()=>{[l.default.querySelector('[data-testid="uploader_close_button"]'),l.default.querySelector('[data-testid="uploader_localbrowse_button"'),l.default.querySelector('[data-testid="uploader_raw_error"]').parentNode.children[0].querySelector(".sm-button")].forEach(l=>{l.addEventListener("click",()=>{e.default.Tracker.createEvent(e.default.CATEGORY.RAW_NOTIFICATION,e.default.ACTION.CLOSED,{label:"File Detection Upsell"}).log(),t.hide()},{once:!0})}),l.default.querySelector('[data-testid="uploader_panel"]').addEventListener("dragenter",()=>{t.hide()},{once:!0});let n=t.createTooltip({content:o.default.UpsellText,alignment:"below",cancelable:!0,nextButton:u({onClick:()=>{e.default.Tracker.createEvent(e.default.CATEGORY.RAW_NOTIFICATION,e.default.ACTION.CLICKED,{label:"File Detection Upsell"}).log();let t=SM.env.pageOwner.isTrial?e.default.CATEGORY.RAW_TRIAL:e.default.CATEGORY.RAW_SUBSCRIBE;e.default.Tracker.createEvent(t,e.default.ACTION.LEARN_MORE,{label:"File Detection Notification"}).log(),l.default.win.open(d,"_blank","noopener,noreferrer"),a(n.getCurrentPosition())},className:"sm-nux-button",skin:"submit"},"Learn More")},l.default.querySelector('[data-testid="uploader_raw_error"]'),a,r);t.set("tooltipHandle",n),e.default.Tracker.createEvent(e.default.CATEGORY.RAW_NOTIFICATION,e.default.ACTION.DISPLAYED,{label:"File Detection Upsell"}).log()})},hidePip:!0,analyticsName:"RAW Learn More Button"}]};exports.default=i}(),SM.currentModule=null}),"",{requires:["react","sm","sm-analytics","sm-component-button","sm-dom-core","sm-guide-rawupsell-content"]});
YUI.add("sm-guide-sellmenu",(function(e){SM.currentModule="sm-guide-sellmenu";var exports={};SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim;!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=SM.import("sm-dom"),l=SM.import("sm-page"),o=SM.import("sm-component-button"),n=SM.import("react").createFactory(o);var r={statusUri:null,isComplete:!1,name:"sellmenu",title:"Sell",description:"We gave selling top billing.  Your commerce tools are now right here.",priority:8,showInGuideList:!1,validCheck:()=>{var o=e.one("[data-nav=sell]");return!!(l.model&&o&&l.model.isRootFolder()&&t.win.innerWidth>=670&&"none"!==o.getComputedStyle("display"))},steps:[{closeHidesAllGuides:!0,mask:[{focus:"[data-nav=sell]"},{lite:!0,region:"[data-nav=sell]"}],setupFn:(e,l,o)=>{var r=e.createTooltip({text:"We gave selling top billing.  Your commerce tools are now right here.",alignment:"below",cancelable:!1,nextButton:n({onClick:()=>{l()},className:"sm-nux-button",skin:"submit"},"Got It")},t.querySelector("[data-nav=sell]"),l,o);e.set("tooltipHandle",r)},analyticsName:"Sell Menu"}]};exports.default=r}(),SM.currentModule=null}),"",{requires:["react","sm","sm-component-button","sm-dom","sm-page"]});
YUI.add("sm-guide-tooltip",(function(e){SM.currentModule="sm-guide-tooltip";var exports={},t=(SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim);!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=babelHelpers.interopRequireDefault(t("prop-types")),l=babelHelpers.interopRequireDefault(t("react")),a=babelHelpers.interopRequireDefault(t("sm-component-button")),n=babelHelpers.interopRequireDefault(t("sm-component-icon")),u=babelHelpers.interopRequireDefault(t("classnames"));const s=({cancelable:e,onDismiss:t,superTitle:s,nextButton:o,title:r,steps:i,stepNumber:m,text:c,content:p})=>{let d,f;e&&(d=l.default.createElement("div",{className:"sm-nux-close-button-container"},l.default.createElement(a.default,{onClick:t,size:"small",className:"sm-nux-close-button",noChrome:!0},l.default.createElement(n.default,{icon:"XCrossSlim",size:"small"})))),s&&(f=l.default.createElement("div",{className:"sm-nux-help-guide"},l.default.createElement("h5",null,s))),o&&(o=l.default.createElement("div",{className:"sm-nux-next-button-container"},o));let b=(0,u.default)({"sm-nux-tooltip-content":!0,"sm-nux-tooltip-intro":r,"sm-nux-tooltip-step":!r}),x=(0,u.default)({"sm-nux-subtext":r}),g=[];if(i.length>1)for(var v=0;v<i.length;v++){if(!i[v].hidePip){var E=(0,u.default)({"sm-guide-tooltip-pip":!0,"sm-guide-tooltip-pip-active":v===m});g.push(l.default.createElement("span",{className:E,key:"sm-guide-tooltip-pip-"+v}))}}return l.default.createElement("div",null,d,f,l.default.createElement("div",{className:b},r?l.default.createElement("h2",{style:{marginTop:"14px"}},r):null,l.default.createElement("p",{className:x},c),p?l.default.createElement("span",{className:x},p):null,l.default.createElement("div",{className:"sm-nux-step-progress"},g),o))};s.propTypes={cancelable:e.default.bool,text:e.default.string,content:e.default.element,title:e.default.string,superTitle:e.default.string,nextButton:e.default.element,stepNumber:e.default.number},s.defaultProps={cancelable:!0},s.displayName="Guide.Tooltip";var o=s;exports.default=o}(),SM.currentModule=null}),"",{requires:["classnames","react","sm","sm-component-button","sm-component-icon","sm-page"]});
YUI.add("sm-guide-step",(function(e){SM.currentModule="sm-guide-step";var exports={},t=(SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim);!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=babelHelpers.interopRequireDefault(t("react")),i=babelHelpers.interopRequireDefault(t("react-dom")),l=babelHelpers.interopRequireDefault(t("sm-page")),n=babelHelpers.interopRequireDefault(t("sm-dom")),a=babelHelpers.interopRequireDefault(t("sm-smuglog")),o=babelHelpers.interopRequireDefault(t("sm-guide-tooltip")),r=t("sm-guide-helpers");const{FIELD_NICKNAME:d,LEVEL_ERROR:u}=a.default;var h=e.Base.create("sm-guide-step",e.Base,[],{_handlers:null,initializer(){this._handlers=[],this._windowResizeHandle=[]},addEventHandle(e){this._handlers.push(e)},createTooltip(e,t,r,h){var p;e={...e,showArrow:!0,slideIn:!0},t||a.default.add("sm-guide-step",{config:e,error:"Non-existent node for guide",url:document.URL,[d]:l.default.user?l.default.user.nickName:"none"},u),e.content&&(e.content=s.default.createFactory(e.content)());var m=Object.assign({},e,{onDismiss:()=>{h(p&&p.getCurrentPosition())},stepNumber:this.get("stepNumber"),steps:this.get("guide").get("steps")}),g=n.default.doc.createElement("div");return i.default.render(s.default.createElement(o.default,m),g),p=l.default.Tooltip.showAtNode(g,t,{destroyCallback:()=>{i.default.unmountComponentAtNode(g)},alignment:e.alignment,skin:"blue",preventHideOnClick:!0,showArrow:e.showArrow,nextButton:e.nextButton,slideIn:e.slideIn,className:"sm-guide-tooltip"})},show(t){var s=new e.Promise((e,s)=>{if(this.get("setupFn")&&this.get("setupFn")(this,e,s,t),this.get("tooltip")){var i=this.get("tooltip");this.waitForElement(i.attachment).then(t=>{setTimeout(()=>{var l=this.createTooltip(i,t,e,s);this.set("tooltipHandle",l)},300)})}this.get("mask")&&this.get("mask").forEach(e=>{this.showMask(e)},this)});s.then(this.hide.bind(this),this.hide.bind(this));var i=this.get("guide");return(0,r.logEvent)(i,"Screen View",{label:this.get("analyticsName"),property:i.get("title"),step:this}),s},hide(){this.set("stepEnded",!0),this.get("tooltipHandle")&&(this.get("tooltipHandle").hide(),this.set("tooltipHandle",null)),new e.EventHandle(this._handlers).detach(),this.hideMask(),this.get("teardownFn")&&this.get("teardownFn")(this)},waitForElement(t,s=100,i=5){let l=0;return new Promise((n,a)=>{var o=()=>{if(!this.get("stepEnded")){var r=e.one(t);r&&"none"!==r.getStyle("display")&&"hidden"!==r.getStyle("visibility")?n(r):l<i?(l++,setTimeout(o,s)):a()}};o()})},_appendMaskNode(t,s,i){var l=e.Node.create('<div class="sm-nux-mask"></div>');return l.setStyles(s),i&&l.addClass("sm-nux-mask-lite"),t.append(l),l},showMask(t){if(Array.isArray(t))t.forEach(e=>{this.showMask(e)},this);else{var s=t.focus,i=t.lite,l=t.region||"window",n=e.one("body");n.setStyle("overflow","hidden");var a=this.waitForElement(l),o=!!s&&this.waitForElement(s);e.batch(a,o).then(s=>{var l=[],a=s[0],o=s[1],r=a.get("region"),d={top:r.top+"px",left:r.left+"px",height:r.height+"px",width:r.width+"px"};if(o){var u=o.get("region");l.push(this._appendMaskNode(n,{...d,height:u.top-r.top+"px"},i)),l.push(this._appendMaskNode(n,{...d,top:u.bottom+"px",height:r.bottom-u.bottom+"px"},i)),l.push(this._appendMaskNode(n,{...d,top:u.top+"px",width:u.left-r.left+"px",height:u.height+"px"},i)),l.push(this._appendMaskNode(n,{...d,top:u.top+"px",left:u.right+"px",height:u.height+"px",width:r.right-u.right+"px"},i))}else l.push(this._appendMaskNode(n,d,i));this._windowResizeHandle.push(e.one("window").once("resize",()=>{new e.NodeList(l).remove(),this.showMask(t)},this))})}},hideMask(){new e.EventHandle(this._windowResizeHandle).detach(),this._windowResizeHandle=[];var t=e.all(".sm-nux-mask");t&&t.remove(),e.one("body").setStyle("overflow",null)}},{ATTRS:{closeCompletesGuide:{value:!1},closeHidesAllGuides:{value:!1},tooltipHandle:{value:null},tooltip:{value:null},mask:{value:null},setupFn:{value:null},teardownFn:{value:null},stepEnded:{value:!1},guide:{value:null},stepNumber:{value:null},analyticsName:{writeOnce:"initOnly"}}});exports.default=h}(),SM.currentModule=null}),"",{requires:["base","promise","react","react-dom","sm","sm-page","sm-guide-helpers","sm-guide-tooltip","sm-smuglog"]});
YUI.add("sm-guide-toolbar-content",(function(e){SM.currentModule="sm-guide-toolbar-content";var exports={},t=(SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim);!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=babelHelpers.interopRequireDefault(t("react")),l=babelHelpers.interopRequireDefault(t("sm-page")),a={UserText:()=>e.default.createElement("span",{className:"sm-text-default"},e.default.createElement("p",null,"Manage account settings, edit your profile, or log out from the user menu.")),UploadText:()=>{var t="Upload your photos to a new or existing gallery from here";return l.default.nextSandbox?t+=", just like always.":t+=".",e.default.createElement("span",{className:"sm-text-default"},e.default.createElement("p",null,t))},OrganizeText:()=>e.default.createElement("span",{className:"sm-text-default"},e.default.createElement("p",null,"This power-packed tool is a better way to organize photos, galleries, and folders (sadly, does not work on your closet).")),CustomizeText:()=>e.default.createElement("span",{className:"sm-text-default"},e.default.createElement("p",null,"Personalize your layout, select fonts and colors, or change the design entirely.")),SellText:()=>e.default.createElement("span",{className:"sm-text-default"},e.default.createElement("p",null,"Put your photos to work with our selling and commerce tools."))};exports.default=a}(),SM.currentModule=null}),"",{requires:["react","sm","sm-page"]});
YUI.add("sm-guide-toolbar",(function(e){SM.currentModule="sm-guide-toolbar";var exports={};SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim;!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=SM.import("sm-component-button"),t=SM.import("react"),o=SM.import("sm-dom"),a=SM.import("sm-page-tooltip"),n=SM.import("sm-page"),i=t.createFactory(e),s=SM.import("sm-guide-toolbar-content"),l=n.nextSandbox,r=!o.querySelector(".sm-page-header-navitem-upload"),m=!o.querySelector(".sm-page-header-navitem-organize"),u=!o.querySelector(".sm-page-header-navitem-customize"),c=!o.querySelector(".sm-page-header-navitem-sell");var d={name:"newsmugmugpreview",title:"SmugMug Toolbar",description:"Find tools for uploading, organizing, and personalizing your site.",launchUrl:"/",priority:2,validCheck:()=>!(o.win.innerWidth<670||n.customizer),steps:[{closeHidesAllGuides:!0,mask:[{focus:".sm-page-header-navitem-upload"},{lite:!0,region:".sm-page-header-navitem-upload"}],setupFn:(e,t,a,n)=>{if(r)return void t(n);let m=o.querySelector(".sm-page-header-navitem-upload");o.win.scroll(0,0);var u=e.createTooltip({content:s.UploadText,alignment:"below",cancelable:l,slideIn:n,nextButton:i({onClick:()=>{t(u.getCurrentPosition())},className:"sm-nux-button",skin:"submit"},"Next")},m,t,a);e.set("tooltipHandle",u)},analyticsName:"Upload",hidePip:r},{closeHidesAllGuides:!0,mask:[{focus:".sm-page-header-navitem-organize"},{lite:!0,region:".sm-page-header-navitem-organize"}],setupFn:(e,t,a,n)=>{if(m)t(n);else{var r=e.createTooltip({content:s.OrganizeText,alignment:"below",cancelable:l,slideIn:n,nextButton:i({onClick:()=>{t(r.getCurrentPosition())},className:"sm-nux-button",skin:"submit"},"Next")},o.querySelector(".sm-page-header-navitem-organize"),t,a);e.set("tooltipHandle",r)}},analyticsName:"Organize",hidePip:m},{closeHidesAllGuides:!0,mask:[{focus:".sm-page-header-navitem-customize"},{lite:!0,region:".sm-page-header-navitem-customize"}],setupFn:(e,t,a,n)=>{if(u)t(n);else{var r=e.createTooltip({content:s.CustomizeText,alignment:"below",cancelable:l,slideIn:n,nextButton:i({onClick:()=>{t()},className:"sm-nux-button",skin:"submit"},"Next")},o.querySelector(".sm-page-header-navitem-customize"),t,a);e.set("tooltipHandle",r)}},hidePip:u,analyticsName:"Customize"},{closeHidesAllGuides:!0,mask:[{focus:".sm-page-header-navitem-sell"},{lite:!0,region:".sm-page-header-navitem-sell"}],setupFn:(e,t,a,n)=>{if(c)t(n);else{var r=e.createTooltip({content:s.SellText,alignment:"below",cancelable:l,slideIn:n,nextButton:i({onClick:()=>{t()},className:"sm-nux-button",skin:"submit"},"Next")},o.querySelector(".sm-page-header-navitem-sell"),t,a);e.set("tooltipHandle",r)}},hidePip:c,analyticsName:"Sell"},{closeHidesAllGuides:!0,mask:[{focus:".sm-user-nav-button"},{lite:!0,region:".sm-user-nav-button"}],setupFn:(e,t,a)=>{var n=e.createTooltip({content:s.UserText,alignment:"below",cancelable:l,nextButton:i({onClick:()=>{t(n.getCurrentPosition())},className:"sm-nux-button",skin:"submit"},"Next")},o.querySelector(".sm-user-nav-button"),t,a);e.set("tooltipHandle",n)},analyticsName:"User"},{setupFn:(e,t,n,i)=>{var s=o.querySelector("[data-value=help], header:not([hidden]) [data-nav=help]"),l=o.querySelector(".sm-fonticon",s);o.classList(l).add("sm-tooltip-help-highlight");var r=a.showAtNode('<p class="sm-nux-close-message">Questions? No worries. Get help or contact one of our friendly Support Heroes.</p>',s,{alignment:"below",skin:"blue"});t(i),setTimeout(()=>{r&&r.hide(),o.classList(l).remove("sm-tooltip-help-highlight")},3e3)},hidePip:!0,analyticsName:"Help"}]};exports.default=d}(),SM.currentModule=null}),"",{requires:["react","sm","sm-component-button","sm-dom","sm-page","sm-page-tooltip","sm-guide-toolbar-content"]});
YUI.add("sm-guide",(function(e){SM.currentModule="sm-guide";var exports={};SM.modules[SM.currentModule]={exports,name:SM.currentModule},SM._requireShim;!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=SM.import("sm-guide-bootstrap"),i=(SM.import("sm-page-tooltip"),SM.import("sm-api2")),s=SM.import("sm-page"),r=SM.import("sm-guide-step"),{logEvent:u}=SM.import("sm-guide-helpers");let l=e.Base.create("sm-guide",e.Base,[],{validCheck(e){var t=this.get("validMode");if(s.isSmallScreen())return!1;if(t&&s&&s.getMode){if(this.get("validMode")!==s.getMode())return!1}else if((!s||!s.getMode)&&t)return!1;return this.get("validCheck")(e)},passiveCompletionHandler(){this.get("passiveCompletionHandler")&&this.get("passiveCompletionHandler")()}},{ATTRS:{statusUri:{value:null},isComplete:{value:!1},name:{writeOnce:"initOnly"},description:{value:""},priority:{writeOnce:"initOnly"},validCheck:{value:()=>!1},title:{value:""},steps:{getter:e=>"function"==typeof e?e():e,writeOnce:"initOnly"},passiveCompletionHandler:{value:null},launchUrl:{value:""},validMode:{value:null},showInGuideList:{value:!0}},run:(e,i,s)=>{var a=e.get("steps");if(0!==a.length){var m,n=i||0;l.trackEvent("Initiate",e.get("name")+"|"+(e.get("isComplete")?"rerun":"first"));var o=i=>{m=null,a[n]?((m=new r({...a[n],guide:e,stepNumber:n})).show(i).then(o,t=>{u(e,"Close",{label:m.get("analyticsName"),property:"Step "+(m.get("stepNumber")+1),step:m}),l.trackEvent("Close",e.get("name")),e.get("isComplete")?l.clearAutorun(e,s):l.markProgress(e,!1,s),m.get("closeHidesAllGuides")&&l.skipGuides(),m.get("closeCompletesGuide")&&l.markCompleted(e,s),m=null}),n++):l.markCompleted(e,s).then(()=>{t.runGuides()})};return o(),{end:()=>{m&&m.hide()},getGuide:()=>e}}},markCompleted:(e,t)=>new Promise((r,a)=>{i({uri:t||e.get("statusUri"),method:"POST",data:{NickName:s.user.nickName,Complete:1}}).then(()=>{u(e,"Complete"),l.trackEvent("Complete",e.get("name")),r()},e=>{a(e)})}),markProgress:(e,t,r)=>i({uri:r||e.get("statusUri"),method:"POST",data:{NickName:s.user.nickName,Progress:!1===t?0:t+1}}),clearAutorun:(e,t)=>i({uri:t||e.get("statusUri"),method:"POST",data:{NickName:s.user.nickName,Autorun:0}}),skipGuidesUri:null,skipGuides:()=>i({uri:l.skipGuidesUri,method:"POST",data:{Hide:!0}}),trackEvent:(e,t,i)=>{SM.Tracker.trackEvent("Tutorial_NewUser",e,!1,!1,t,i)}});l.guides={customize:new l(SM.import("sm-guide-customize")),galleries:new l(SM.import("sm-guide-galleries")),nuxgallery:new l(SM.import("sm-guide-nuxgallery")),nuxhomepage:new l(SM.import("sm-guide-nuxhomepage")),rawupsell:new l(SM.import("sm-guide-rawupsell")),reorganize:new l(SM.import("sm-guide-organize")),pricelists:new l(SM.import("sm-guide-pricelists")),sellmenu:new l(SM.import("sm-guide-sellmenu")),newsmugmugpreview:new l(SM.import("sm-guide-toolbar"))};var a=l;exports.default=a}(),SM.currentModule=null}),"",{requires:["sm","sm-api2","sm-guide-bootstrap","sm-guide-customize","sm-guide-galleries","sm-guide-helpers","sm-guide-nuxgallery","sm-guide-nuxhomepage","sm-guide-organize","sm-guide-pricelists","sm-guide-rawupsell","sm-guide-sellmenu","sm-guide-step","sm-guide-toolbar","sm-page","sm-page-tooltip"]});
